@using Core.Application.ViewModels.User
@model LoginViewModel
@{
    Layout = "";
    ViewData["Title"] = "Register";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>@ViewData["Title"] - Login</title>
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/UserStyles.css" />
    <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css" />

    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
</head>
<body>
    <div class="loginContainer">
        <div class="formLogin">
            <div class="banner">
                <img src="https://cdn-icons-png.flaticon.com/512/4304/4304009.png" />
            </div>
            <div class="form">
                <h1 class="formTitle"> Registrarse </h1>
                <form method="post" asp-controller="Register" asp-action="RegisterCreate">
                    <div class="row row-cols-2">
                        <div>
                            <div class="from-group">
                                <label name="test" class="form-label">Nombre</label>
                                <input class="form-input" name="Nombre" required/>
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Telefono</label>
                                <input class="form-input" name="Telefono" required />
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Genero</label>
                                <select class="form-input" name="Genero" aria-label="Default select example" required>
                                    <option value="1">Femenino</option>
                                    <option value="2">Masculino</option>
                                </select>
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Direccion</label>
                                <input class="form-input" name="Direccion" required />
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Estado</label>
                                <select class="form-input" name="Estado" aria-label="Default select example" required>
                                    @foreach (var i in ViewBag.Estados)
                                    {
                                        <option value="@i.Id">@i.Nombre</option>
                                    }
                                </select>
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Tipo de cuenta</label>
                                <select class="form-input" name="TipoCuenta" aria-label="Default select example" required>
                                    @foreach (var i in ViewBag.TipoCuenta)
                                    {
                                        <option value="@i.Id">@i.Nombre</option>
                                    }
                                </select>
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Cuenta</label>
                                <input class="form-input" name="Cuenta" required />
                                
                            </div>
                        </div>
                        <div>
                            <div class="from-group">
                                <label name="test" class="form-label">Apellido</label>
                                <input class="form-input" name="Apellido" required />
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Correo</label>
                                <input class="form-input" name="Correo" required />
                            </div>                            
                            <div class="from-group">
                                <label name="test" class="form-label">Cedula</label>
                                <input class="form-input" name="Cedula" required />
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Fecha de Nacimiento</label>
                                <input class="form-input" id="fechaNacimiento" type="date" name="Nacimiento" max="2000-01-01" required />
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Provincia</label>
                                <select class="form-input" name="Provincia" aria-label="Default select example" required>
                                    @foreach (var i in ViewBag.Provincias)
                                    {
                                        <option value="@i.Id">@i.Nombre</option>
                                    }
                                </select>
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Nacionalidad</label>
                                <select class="form-input" name="Nacionalidad" aria-label="Default select example" required>
                                    @foreach (var i in ViewBag.Nacionalidades)
                                    {
                                        <option value="@i.Id">@i.Nombre</option>
                                    }
                                </select>
                                
                            </div>
                            <div class="from-group">
                                <label name="test" class="form-label">Banco</label>
                                <select class="form-input" name="Banco" aria-label="Default select example" required>
                                    @foreach (var i in ViewBag.TipoBanco)
                                    {
                                        <option value="@i.Id">@i.Nombre</option>
                                    }
                                </select>
                                
                            </div>
                        </div>
                    </div>
                    <div class="buttons">
                        <button type="submit">Crear Cuenta</button>
                    </div>

                </form>
                <i>¿Ya tienes una cuenta? <a href="/">Inicia Sesion</a></i>

            </div>
            @if (ViewBag.Error != null)
            {
                <div class="toast-container position-static">
                    @foreach (var i in ViewBag.Error)
                    {
                        <div class="toast-container position-fixed bottom-0 start-0 p-3">
                            <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                                <div class="toast-header">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Light_green_check.svg/2048px-Light_green_check.svg.png" class="rounded me-2" width="20" height="20" alt="...">
                                    <strong class="me-auto">@i.Title</strong>
                                    <small>Ahora Mismo</small>
                                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                                </div>
                                <div class="toast-body">
                                    @i.Message
                                </div>
                            </div>
                        </div>
                    }
                </div>
            }

        </div>
    </div>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap//dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        window.onload = (event) => {
            let myAlert = document.querySelectorAll('.toast');
            myAlert.forEach((toast, index) => {
                let bsToast = new bootstrap.Toast(toast);
                bsToast.show();
            });
        }
    </script>
    <script>
        var fechaNacimientoInput = document.getElementById("fechaNacimiento");
        var fechaHace18Anios = new Date();
        fechaHace18Anios.setFullYear(fechaHace18Anios.getFullYear() - 18);
        var formattedFechaHace18Anios = fechaHace18Anios.toISOString().split('T')[0];
        fechaNacimientoInput.setAttribute("max", formattedFechaHace18Anios);
    </script>
    }
</body>
</html>